<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Pencas</title>
	<meta http-equiv="x-ua-compatible" content="ie=edge" />
	<title></title>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="manifest"
		href="http://retrieverfamily.com/penca/site/site.webmanifest" />
	<link
		href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Condensed"
		rel="stylesheet" />
	<link
		href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
		rel="stylesheet"
		integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
		crossorigin="anonymous" />
	<link rel="apple-touch-icon"
		href="http://retrieverfamily.com/penca/site/icon.png" />
	<link href="css" rel="stylesheet" />
	<link rel="stylesheet" href="css/normalize.css" />
	<link rel="stylesheet" href="css/icons.css" />
	<link rel="stylesheet" href="css/main.css" />
	<link rel="stylesheet"
		href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.2.0/sweetalert2.min.css" />
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.2.0/sweetalert2.all.min.js"></script>
	<!-- 	<link rel="stylesheet" href="css/bootstrap.min.css" /> -->
	<!-- 	<link rel="stylesheet" href="css/bootstrap-penca-2018.css" /> -->
</h:head>
<h:body class="login clearfix">

	<h:form prependId="false">
		<f:event type="preRenderView" listener="#{pencasBean.refresh()}" />
		<div class="header navbar"
			style="position: fixed; margin-top: -10px; height: 60px; z-index: 1000; opacity: 1;">
			<div style="float: left">
				<p style="height: 30px;" class="navbar-brand">#{pencasBean.sesion.usuarioLogueado.nombre}
					#{pencasBean.sesion.usuarioLogueado.apellido}</p>
			</div>
			<div style="float: left; margin-left: 45px;">
				<ul class="menu">
					<li><a href="principal.jsf">Torneos</a></li>
					<li><a href="pronostico.jsf">Mis Pronosticos</a></li>
					<li><a href="puntajes.jsf">Posiciones</a></li>
					<li><a href="pencas.jsf" class="active">Pencas</a></li>
					<li><a href="administrarPencas.jsf">Administración</a></li>
				</ul>
			</div>
			<div style="float: right">
				<h:commandLink action="#{pencasBean.sesion.logout()}" value=""
					styleClass="my-2 my-sm-0 cerrar-cesion" title="Cerrar cesiòn">
					<i style="margin-top: 15px; margin-right: 15px;"
						class="fa fa-sign-out" aria-hidden="true"></i>
				</h:commandLink>
			</div>
		</div>
	</h:form>
	<div class="container" style="width: auto !important;">
		<div class="grid-container">
			<div class="titulo grid-item-1" style="">
				<h1>
					<b> #{pencasBean.sesion.torneoSeleccionado.nombre}</b> <img
						src="img/logo.png"
						style="margin-right: 50px; width: 100%; padding: 10px;" />
				</h1>
			</div>
			<div class="titulo grid-item-2">
				<h1>
					<b style="font-size: 50px;">PENCAS</b>
				</h1>
				<div class="login_left" style="padding-top: 2%;">
					<div class="login_left_container torneo">
						<h:form>
							<div class="tablaPuntajes" style="margin-top: 2%;">
								<table class="table" style="margin-bottom: 0px !important;">
									<thead style="font-size: 18px;">
										<tr style="background-color: #dbeaf8;">
											<th scope="col" class="text-center w-25 v-align-top">Penca</th>
											<th scope="col" class="text-center w-30 v-align-top">Torneo</th>
											<th scope="col" class="text-center w-20 v-align-top">Estado</th>
											<th scope="col" class="text-center w-15 v-align-top">Solicitud</th>
											<th scope="col" class="text-center w-10 v-align-top">P/P</th>
										</tr>
									</thead>

									<tbody>
										<ui:repeat value="#{pencasBean.dtGrupoPencas}" var="dtPencas"
											varStatus="i">
											<tr style="font-size: large;"
												class="elementos text-center fs-16 text-comun form-group">
												<td class="l-h-normal p-y-8 col1">#{dtPencas.grupoPenca.nombre}</td>
												<td class="l-h-normal p-y-8 col2">#{dtPencas.grupoPenca.torneo.nombre}</td>
												<td class="l-h-normal p-y-8 col3">#{dtPencas.estado}</td>
												<td class="l-h-normal p-y-8 col4"><h:panelGroup
														rendered="#{dtPencas.estado=='NO_PERTENECE'}">
														<h:commandLink aria-label="Solicitar" title="Solicitar"
															action="#{pencasBean.solicitarAcceso(dtPencas)}">Solicitar
													</h:commandLink>
													</h:panelGroup></td>
												<td class="l-h-normal p-y-8 col5"><h:panelGroup
														rendered="#{dtPencas.grupoPenca.esAbierta}">Pública</h:panelGroup>
													<h:panelGroup rendered="#{!dtPencas.grupoPenca.esAbierta}">Privada</h:panelGroup></td>

											</tr>
										</ui:repeat>
									</tbody>
								</table>


							</div>
						</h:form>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script>
    $( document ).ready(function() {
        console.log( "document loaded" );
        
       
    });
    function error(mensaje){ 
        console.log("entra a guardar error");
        swal(
        		'Error!',
				mensaje,
				'error'
			)
    	console.log("sale de guardar error");
    }
    </script>

</h:body>
</html>