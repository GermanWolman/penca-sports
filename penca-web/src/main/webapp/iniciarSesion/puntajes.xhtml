<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Puntajes</title>
	<meta http-equiv="x-ua-compatible" content="ie=edge" />
	<title></title>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="manifest"
		href="http://retrieverfamily.com/penca/site/site.webmanifest" />
	<link
		href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Condensed"
		rel="stylesheet" />
	<link
		href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
		rel="stylesheet"
		integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
		crossorigin="anonymous" />
	<link rel="apple-touch-icon"
		href="http://retrieverfamily.com/penca/site/icon.png" />
	<link href="css" rel="stylesheet" />
	<link rel="stylesheet" href="css/normalize.css" />
	<link rel="stylesheet" href="css/icons.css" />
	<link rel="stylesheet" href="css/main.css" />
	<link rel="stylesheet"
		href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<!-- 	<link rel="stylesheet" href="css/bootstrap.min.css" /> -->
	<!-- 	<link rel="stylesheet" href="css/bootstrap-penca-2018.css" /> -->
</h:head>
<h:body class="login clearfix">

	<h:form prependId="false">
		<f:event type="preRenderView" listener="#{puntajesBean.refresh()}" />
		<div class="header navbar"
			style="position: fixed; margin-top: -10px; height: 60px; z-index: 1000; opacity: 1;">
			<div style="float: left">
				<p style="height: 30px;" class="navbar-brand">#{pronosticoBean.sesion.usuarioLogueado.nombre}
					#{pronosticoBean.sesion.usuarioLogueado.apellido}</p>
			</div>
			<div style="float: left; margin-left: 45px;">
				<ul class="menu">
					<li><a href="principal.jsf">Torneos</a></li>
					<li><a href="pronostico.jsf">Mis Pronosticos</a></li>
					<li><a href="puntajes.jsf" class="active">Posiciones</a></li>
					<li><a href="pencas.jsf">Pencas</a></li>
					<li><a href="administrarPencas.jsf">Administración</a></li>
				</ul>
			</div>
			<div style="float: right">
				<h:commandLink action="#{pronosticoBean.sesion.logout()}" value=""
					styleClass="my-2 my-sm-0 cerrar-cesion" title="Cerrar cesiòn">
					<i style="margin-top: 15px; margin-right: 15px;"
						class="fa fa-sign-out" aria-hidden="true"></i>
				</h:commandLink>
			</div>
		</div>
	</h:form>
	<div class="container" style="width: auto !important;">
		<div class="grid-container">
			<div class="titulo grid-item-1" style="">
				<h1>
					<b> #{pronosticoBean.sesion.torneoSeleccionado.nombre}</b> <img
						src="img/logo.png"
						style="margin-right: 50px; width: 100%; padding: 10px;" />
				</h1>
			</div>
			<div class="titulo grid-item-2">
				<h:form>
					<h1>
						<b style="font-size: 50px;"> POSICIONES</b>
					</h1>
					<h:panelGroup
						rendered="#{puntajesBean.grupoPencas==null or puntajesBean.grupoPencas.size()==0}">
						<div class="login_left" style="padding-top: 2%;">
							<div class="login_left_container torneo">

								<!-- 						<div class="form-group select"> -->
								<!-- 							<h:selectOneMenu id="select_grupo_penca" -->
								<!-- 								value="#{puntajesBean.grupoPencaSeleccionado}" -->
								<!-- 								styleClass="form-control grupoPenca" onchange="submit()" -->
								<!-- 								valueChangeListener="#{puntajesBean.grupoPencaChange}"> -->
								<!-- 								<f:selectItem itemLabel="Seleccione Penca" -->
								<!-- 									noSelectionOption="true" itemDisabled="true" /> -->
								<!-- 								<f:selectItems value="#{puntajesBean.grupoPencas}" var="p" -->
								<!-- 									itemLabel="#{p.nombre}" itemValue="#{p.id}" /> -->
								<!-- 							</h:selectOneMenu> -->
								<!-- 						</div> -->

								<div class="grupo" style="margin-bottom: 0px !important;">
									<div>
										<div style="text-align: left;">
											<h2
												style="font-weight: bold; color: white; font-size: 20px; margin-top: 2%;">
												No está registrado a ninguna penca, debe ir a la pestaña
												Pencas para solicitar unirse.</h2>
										</div>

									</div>
								</div>
							</div>
						</div>

					</h:panelGroup>
					<h:panelGroup
						rendered="#{puntajesBean.grupoPencas!=null and puntajesBean.grupoPencas.size()!=0}">

						<div class="form-group select"
							style="width: 50% !important; margin-left: 25% !important; margin-right: 25% !important; margin-top: 30px !important;">
							<h:selectOneMenu id="select_grupo_penca"
								style="background-color: #111111 !important;color: white;!Important"
								value="#{puntajesBean.grupoPencaSeleccionado}"
								styleClass="form-control grupoPenca select-penca"
								onchange="submit()"
								valueChangeListener="#{puntajesBean.grupoPencaChange}">
								<f:selectItem itemLabel="Seleccione Penca"
									noSelectionOption="true" itemDisabled="true" />
								<f:selectItems value="#{puntajesBean.grupoPencas}" var="p"
									itemLabel="#{p.nombre}" itemValue="#{p.id}" />
							</h:selectOneMenu>
						</div>
						<h:panelGroup
							rendered="#{pronosticoBean.sesion.grupoPencaUnica!=null}">
							<div class="login_left" style="padding-top: 2%;">
								<div class="login_left_container torneo">
									<div class="grupo">
										<div style="display: flex; justify-content: space-between;">
											<div
												style="text-align: left; text-transform: uppercase; padding-bottom: 10px;">
												<h2 style="font-weight: bold; color: white;">
													#{puntajesBean.sesion.grupoPencaUnica.nombre}</h2>
											</div>

										</div>
									</div>

									<div class="tablaPuntajes">

										<ui:repeat var="usuarioPuntaje"
											value="#{puntajesBean.dtUsuariosPuntajes}" varStatus="status">
											<div class="filas fila-#{status.index}"
												style="display: grid; grid-template-columns: .3fr 8fr 1fr .5fr;">
												<span class="puesto">#{status.index+1}º</span> <span
													class="nombre" style="text-align: left;">#{usuarioPuntaje.usuario.nombre}
													#{usuarioPuntaje.usuario.apellido}</span><span
													class="puntosPuntaje">#{usuarioPuntaje.puuntaje}
													Pts.</span>
												<h:commandLink
													action="#{puntajesBean.irPronosticos(usuarioPuntaje.usuario.id)}"
													value="" title="Ver pronósticos">
													<i class="fa fa-eye fa-lg" aria-hidden="true"></i>
												</h:commandLink>
											</div>
										</ui:repeat>

									</div>
								</div>
							</div>
						</h:panelGroup>
					</h:panelGroup>

				</h:form>
			</div>
		</div>
	</div>
	<script>
    $( document ).ready(function() {
        console.log( "document loaded" );
        $('.select-penca option').each(function(){
        	this.className='opciones';
        })
        $(".select-penca option")[0].className='primer-opcion';
       
    });
    function error(mensaje){ 
        console.log("entra a guardar error");
        swal(
        		'Error!',
				mensaje,
				'error'
			)
    	console.log("sale de guardar error");
    }
    </script>

</h:body>
</html>